(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b8a8fa4"],{"0e33":function(t,e,i){},"1ea0":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{border:"1px",width:"100%",height:"100%","box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}},[i("el-container",[i("el-header",{staticStyle:{display:"flex","justify-content":"left","align-items":"center"}},[i("i",{staticClass:"el-icon-user"}),i("h1",{staticStyle:{"margin-left":"15px"}},[t._v("我的信息")]),i("el-button",{staticStyle:{float:"right",padding:"10px 5px"},attrs:{type:"text"},on:{click:t.open}},[t._v("点击修改")])],1),i("el-main",[i("el-card",{staticClass:"box-card",staticStyle:{width:"480px"},attrs:{shadow:"hover"}},[i("div",[i("div",{staticClass:"text item"},[i("strong",[t._v("用户名:")]),t._v("\n            "+t._s(t.user.name)+"\n          ")]),i("div",{staticClass:"text item"},[i("strong",[t._v("学工号:")]),t._v("\n            "+t._s(t.user.number)+"\n          ")]),i("div",{staticClass:"text item"},[i("strong",[t._v("职称:")]),t._v("\n            "+t._s(t.user.title)+"\n          ")]),i("div",{staticClass:"text item"},[i("strong",[t._v("电话:")]),t._v("\n            "+t._s(t.user.phone)+"\n          ")]),i("div",{staticClass:"text item"},[i("strong",[t._v("简介：")]),t._v("\n            "+t._s(t.user.introduction)+"\n          ")])])])],1),i("el-form",{attrs:{model:t.user}},[i("div",{staticStyle:{"text-align":"left"}},[i("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:t.dialogTitle,"close-on-click-modal":!1,visible:t.dialogVisible,width:"77%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[i("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入员工姓名"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1)],1)]),i("el-col",{attrs:{span:7}},[i("div",[i("el-form-item",{attrs:{label:"学工号"}},[i("el-input",{staticStyle:{width:"140px"},attrs:{"prefix-icon":"el-icon-set-up",size:"mini",disabled:"true"},model:{value:t.user.number,callback:function(e){t.$set(t.user,"number",e)},expression:"user.number"}})],1)],1)]),i("el-col",{attrs:{span:5}},[i("div",[i("el-form-item",{attrs:{label:"电话"}},[i("el-input",{staticStyle:{width:"140px"},attrs:{"prefix-icon":"el-icon-phone",size:"mini",placeholder:"请输入员工电话"},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1)],1)]),i("el-col",{attrs:{span:5}},[i("div",[i("el-form-item",{attrs:{label:"职称"}},[i("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请选择职位"},model:{value:t.user.title,callback:function(e){t.$set(t.user,"title",e)},expression:"user.title"}},t._l(t.positions,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1)],1)])],1),i("el-row",[i("el-col",[i("el-form-item",{attrs:{label:"个人简介"}},[i("el-input",{attrs:{type:"text"},model:{value:t.user.introduction,callback:function(e){t.$set(t.user,"introduction",e)},expression:"user.introduction"}})],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:t.cancelEidt}},[t._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.postUser}},[t._v("确 定")])],1)],1)],1)])],1)],1)},s=[],a=i("c991"),l=i("a27b"),o=i("a0b5"),r={data:function(){return{user:{name:null,introduction:null,title:null,number:null,phone:null,authority:null},dialogVisible:!1,dialogTitle:"",positions:[{id:"1",name:"讲师"},{id:"2",name:"副教授"},{id:"3",name:"教授"}]}},created:function(){var t=this;Object(o["c"])(),a["a"].$on(a["a"].user,function(e){t.user=e})},methods:{cancelEidt:function(){this.dialogVisible=!1},open:function(){this.dialogTitle="编辑个人信息",this.dialogVisible=!0},postUser:function(){var t=this;this.$confirm("确认更新?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l["a"].post("/set/update/user",t.user).then(function(e){t.user=e.data.user}),t.$message({type:"success",message:"更新成功!"})}).catch(function(){t.$message({type:"info",message:"取消"})})}}},u=r,c=(i("af41"),i("2877")),d=Object(c["a"])(u,n,s,!1,null,null,null);e["default"]=d.exports},a0b5:function(t,e,i){"use strict";i.d(e,"c",function(){return l}),i.d(e,"d",function(){return o}),i.d(e,"a",function(){return r}),i.d(e,"e",function(){return u}),i.d(e,"b",function(){return c}),i.d(e,"f",function(){return d});var n=i("a27b"),s=i("c991"),a=i("5c96");function l(){n["a"].get("/user").then(function(t){s["a"].$emit(s["a"].user,t.data.user)})}function o(){n["a"].get("/admin/task/list").then(function(t){s["a"].$emit(s["a"].tasks,t.data.tasks)})}function r(){n["a"].get("/lession/list").then(function(t){s["a"].$emit(s["a"].lessions,t.data.lessions)})}function u(){n["a"].get("/get/users").then(function(t){s["a"].$emit(s["a"].users,t.data.users)})}function c(){n["a"].get("/exam/admin/list").then(function(t){s["a"].$emit(s["a"].exams,t.data.exams)})}function d(t){n["a"].post("/set/update/user",t).then(function(t){setTimeout(function(){s["a"].$emit(s["a"].users,t.data.user)},500),a["Message"].success("修改成功")}).catch(function(){a["Message"].warning("未知错误，修改失败")})}},af41:function(t,e,i){"use strict";var n=i("0e33"),s=i.n(n);s.a}}]);